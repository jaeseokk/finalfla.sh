@use "sass:selector";

$dr-color: #ff48ea;
$bs-color: #ffff00;
$mel-color: #1eff00;
$fx-color: #0072ff;
$ambient-color: #ff7200;
$traditional-color: #8711ff;

@mixin for-small-screens {
  @media only screen and (max-width: 480px) {
    @content;
  }
}

@mixin for-medium-landscape-screens {
  @media only screen and (min-width: 481px) and (max-width: 1000px) and (orientation: landscape) {
    @content;
  }
}

@mixin for-medium-portrait-screens {
  @media only screen and (min-width: 481px) and (max-width: 1000px) and (orientation: portrait) {
    @content;
  }
}

@mixin for-medium-screens {
  @media only screen and (min-width: 481px) and (max-width: 1000px) {
    @content;
  }
}

@mixin button {
  @extend %hand-cursor-pointer2;

  position: relative;
  transition: transform 0.2s ease-in-out;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;

  &:hover {
    transform: scale(1.1);
  }

  .label {
    font-size: 1.6rem;
    font-weight: bold;
    margin-top: 3px;
  }
}

@mixin controller-button {
  @extend %hand-cursor-pointer2;

  $controller-button-width: 50px;
  $controller-button-width-for-small: 40px;
  $controller-button-height: 23px;
  $controller-button-height-for-small: 20px;
  $controller-button-padding: 3px;

  position: relative;
  width: $controller-button-width + $controller-button-padding;
  @include for-small-screens {
    width: $controller-button-width-for-small + $controller-button-padding;
  }
  height: $controller-button-height + $controller-button-padding;
  @include for-small-screens {
    height: $controller-button-height-for-small + $controller-button-padding;
  }
  padding-right: $controller-button-padding;
  padding-bottom: $controller-button-padding;

  > div {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    height: $controller-button-height;

    &.bg {
      transform: translate(3px, 3px);
    }

    &.label {
      font-size: 1rem;
      font-weight: bold;
      line-height: $controller-button-height;
      @include for-small-screens {
        line-height: $controller-button-height-for-small;
      }
    }

    &.fore,
    &.label {
      transition: transform 0.1s ease-out;
    }
  }

  &:hover {
    > div {
      &.fore,
      &.label {
        transform: translate(
          $controller-button-padding / 3,
          $controller-button-padding / 3
        );
      }
    }
  }

  &:active {
    > div {
      &.fore,
      &.label {
        transform: translate(
          $controller-button-padding,
          $controller-button-padding
        );
      }
    }
  }

  &.active {
    > div {
      &.fore {
        svg {
          filter: blur($controller-button-padding / 3);
        }
      }

      &.fore,
      &.label {
        transform: translate(
          $controller-button-padding,
          $controller-button-padding
        );
      }
    }
  }
}

%hand-cursor-default {
  cursor: url(/assets/hand-cursor-default.png), auto;

  @at-root #{selector-unify(':global(#app):global(.glove)', &)} {
    cursor: url(/assets/glove-cursor-default.png), auto;
  }
}

%hand-cursor-pointer1 {
  cursor: url(/assets/hand-cursor-pointer1.png), pointer;

  @at-root :global(#app):global(.glove) & {
    cursor: url(/assets/glove-cursor-pointer1.png), auto;
  }
}

%hand-cursor-pointer2 {
  cursor: url(/assets/hand-cursor-pointer2.png), pointer;

  @at-root :global(#app):global(.glove) & {
    cursor: url(/assets/glove-cursor-pointer2.png), auto;
  }
}
